{"$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"factoryName":{"type":"string","metadata":"Data Factory name"},"PostgreSqlForVM":{"type":"string"},"AzureSqlDatabaseForVM":{"type":"string"}},"variables":{"factoryId":"[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"},"resources":[{"name":"[concat(parameters('factoryName'), '/PostgreSQLtoAzureSQL3')]","type":"Microsoft.DataFactory/factories/pipelines","apiVersion":"2018-06-01","properties":{"activities":[{"name":"efsb_workorder","type":"Copy","dependsOn":[],"policy":{"timeout":"7.00:00:00","retry":0,"retryIntervalInSeconds":30,"secureOutput":false,"secureInput":false},"userProperties":[{"name":"Source","value":"public.efsb_workorder"},{"name":"Destination","value":"dbo.efsb_workorder"}],"typeProperties":{"source":{"type":"PostgreSqlSource"},"sink":{"type":"AzureSqlSink","sqlWriterStoredProcedureName":"[[dbo].[uspEfsbWorkorderSyncADS]","sqlWriterTableType":"[[dbo].[efsbworkordertype]","storedProcedureTableTypeParameterName":"efsbworkordertype"},"enableStaging":false,"translator":{"type":"TabularTranslator","mappings":[{"source":{"name":"identifier","type":"Int64"},"sink":{"name":"identifier","type":"Int64"}},{"source":{"name":"WO Description","type":"String"},"sink":{"name":"wo_description","type":"String"}},{"source":{"name":"WO Complete","type":"DateTime"},"sink":{"name":"wo_complete","type":"DateTime"}},{"source":{"name":"WO Created","type":"DateTime"},"sink":{"name":"wo_created","type":"DateTime"}},{"source":{"name":"WO\r\nDue","type":"DateTime"},"sink":{"name":"wo_due","type":"DateTime"}},{"source":{"name":"WO Reference Number","type":"String"},"sink":{"name":"wo_reference_number","type":"String"}},{"source":{"name":"WO ExtID","type":"String"},"sink":{"name":"wo_ext_id","type":"String"}},{"source":{"name":"WO Sub Category","type":"String"},"sink":{"name":"wo_sub_category","type":"String"}},{"source":{"name":"WO Status","type":"String"},"sink":{"name":"wo_status","type":"String"}},{"source":{"name":"WO Summary","type":"String"},"sink":{"name":"wo_summary","type":"String"}},{"source":{"name":"external_reference","type":"String"},"sink":{"name":"external_reference","type":"String"}},{"source":{"name":"Escalated","type":"String"},"sink":{"name":"escalated","type":"String"}},{"source":{"name":"WO Next Action","type":"String"},"sink":{"name":"wo_next_action","type":"String"}},{"source":{"name":"Assignee","type":"String"},"sink":{"name":"assignee","type":"String"}},{"source":{"name":"Creator","type":"String"},"sink":{"name":"creator","type":"String"}},{"source":{"name":"Requestor","type":"String"},"sink":{"name":"requestor","type":"String"}},{"source":{"name":"role","type":"String"},"sink":{"name":"role","type":"String"}},{"source":{"name":"last_changed","type":"DateTime"},"sink":{"name":"last_changed","type":"DateTime"}},{"source":{"name":"tenant","type":"String"},"sink":{"name":"tenant","type":"String"}}]}},"inputs":[{"referenceName":"public_efsb_workorder","type":"DatasetReference","parameters":{}}],"outputs":[{"referenceName":"dbo_efsb_workorder","type":"DatasetReference","parameters":{}}]}],"policy":{"elapsedTimeMetric":{},"cancelAfter":{}},"annotations":[],"lastPublishTime":"2022-10-21T01:55:19Z"},"dependsOn":["[concat(variables('factoryId'), '/datasets/public_efsb_workorder')]","[concat(variables('factoryId'), '/datasets/dbo_efsb_workorder')]"]},{"name":"[concat(parameters('factoryName'), '/public_efsb_workorder')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('PostgreSqlForVM')]","type":"LinkedServiceReference"},"annotations":[],"type":"PostgreSqlTable","schema":[],"typeProperties":{"schema":"public","table":"efsb_workorder"}},"dependsOn":[]},{"name":"[concat(parameters('factoryName'), '/dbo_efsb_workorder')]","type":"Microsoft.DataFactory/factories/datasets","apiVersion":"2018-06-01","properties":{"linkedServiceName":{"referenceName":"[parameters('AzureSqlDatabaseForVM')]","type":"LinkedServiceReference"},"annotations":[],"type":"AzureSqlTable","schema":[{"name":"identifier","type":"bigint","precision":19,"scale":0},{"name":"reference_number","type":"varchar","precision":0,"scale":0},{"name":"summary","type":"varchar","precision":0,"scale":0},{"name":"description","type":"varchar","precision":0,"scale":0},{"name":"raised_condition","type":"varchar","precision":0,"scale":0},{"name":"external_reference","type":"varchar","precision":0,"scale":0},{"name":"status","type":"varchar","precision":0,"scale":0},{"name":"creation_time","type":"datetime","precision":23,"scale":3},{"name":"tolerance","type":"int","precision":10,"scale":0},{"name":"due_time","type":"datetime","precision":23,"scale":3},{"name":"due_time_with_tollerance","type":"datetime","precision":23,"scale":3},{"name":"nearing_breach","type":"datetime","precision":23,"scale":3},{"name":"response_time","type":"datetime","precision":23,"scale":3},{"name":"response_expiration","type":"datetime","precision":23,"scale":3},{"name":"Response_SLA","type":"varchar","precision":0,"scale":0},{"name":"completion_expiration","type":"datetime","precision":23,"scale":3},{"name":"completed_time","type":"datetime","precision":23,"scale":3},{"name":"Completion_SLA","type":"varchar","precision":0,"scale":0},{"name":"job_state","type":"varchar","precision":0,"scale":0},{"name":"Created_Due","type":"datetime","precision":23,"scale":3},{"name":"next_action","type":"varchar","precision":0,"scale":0},{"name":"creator","type":"varchar","precision":0,"scale":0},{"name":"assignee","type":"varchar","precision":0,"scale":0},{"name":"supplier_name","type":"varchar","precision":0,"scale":0},{"name":"supplier_ext_reference","type":"varchar","precision":0,"scale":0},{"name":"segment","type":"varchar","precision":0,"scale":0},{"name":"account","type":"int","precision":10,"scale":0},{"name":"property","type":"int","precision":10,"scale":0},{"name":"product_bundle_order","type":"int","precision":10,"scale":0},{"name":"Urbanise_URL","type":"varchar","precision":0,"scale":0},{"name":"job_template","type":"varchar","precision":0,"scale":0},{"name":"Priority","type":"varchar","precision":0,"scale":0},{"name":"last_changed","type":"datetime","precision":23,"scale":3},{"name":"quotation","type":"int","precision":10,"scale":0},{"name":"tenant","type":"varchar","precision":0,"scale":0}],"typeProperties":{"schema":"dbo","table":"efsb_workorder"}},"dependsOn":[]}]}